# 🚀 机场自动注册助手 (Auto-Reg Helper) - V7.5 哲学增强版 🚀

[![开源协议](https://img.shields.io/badge/License-Apache_2.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)
[![版本](https://img.shields.io/badge/Version-v7.5-brightgreen.svg)](https://github.com/lzA6/web-js)
[![作者](https://img.shields.io/badge/Author-中国听风%20%26%20Gemini-orange.svg)](https://github.com/lzA6)
[![兼容性](https://img.shields.io/badge/Tampermonkey-✅-yellow.svg)](https://www.tampermonkey.net/)

> **“我们并非在创造工具，而是在赋予自由。每一次点击，都是对重复劳动的反抗，是对数字世界更深层次探索的宣言。”**

欢迎来到 `web-js` 项目！这不仅仅是一个脚本，它是我们对于“便捷”与“效率”的一次哲学实践。我们相信，技术应是人类意志的延伸，而非束缚。这个小小的“注册助手”，就是为了将你从繁琐的、重复的网站注册流程中解放出来，让你能将宝贵的精力，投入到真正有创造力、有意义的事情上去。

---

### ✨ 核心特性一览

| 特性 | 状态 | 简介 |
| :--- | :---: | :--- |
| **一键魔力填充** | ✔️ | 自动识别邮箱、密码框，像魔术师一样瞬间填满！ |
| **智能匹配域名** | ✔️ | 遇到只需要用户名的邮箱？小意思，它会自动截取`@`前的部分。 |
| **自动登录跳转** | ✔️ | 注册成功后，如果跳转到登录页，它会帮你自动登录，服务一条龙！ |
| **Google邮箱验证码** | ✔️ | 独家秘技！配合Google Apps Script，实现一键收信、自动填充验证码。 |
| **CF/人机验证等待** | ✔️ | 遇到Cloudflare验证？它会耐心等待，等你手动完成后继续执行，人机协作，其乐无穷！ |
| **高度自定义** | ✔️ | 遇到不听话的网站？用“自定义”模式，像驯兽师一样“调教”它！ |
| **图形验证码** | ❌ | 类似Steam那种复杂的图形验证，目前还是它的“天劫”，尚需时日修炼。 |

---

### 🎬 “眼见为实” - 使用演示

> **“语言的尽头，是影像的开始。让我们直观地感受一下，什么叫‘行云流水’。”**

**基础使用教程 & 效果演示：**

[![基础使用教程](https://github.com/user-attachments/assets/9ffac6c3-9031-4e2c-b3e0-c10fbf36d220)](https://github.com/user-attachments/assets/9ffac6c3-9031-4e2c-b3e0-c10fbf36d220)

**遮罩与更新说明：**

[![更新说明](https://github.com/user-attachments/assets/c7809328-b6ad-4ba1-8e4e-c4674f69d627)](https://github.com/user-attachments/assets/c7809328-b6ad-4ba1-8e4e-c4674f69d627)

---

### 🛠️ “懒人福音” - 一键安装教程

> **“大道至简。最伟大的工具，是不需要学习成本的工具。”**

1.  **安装一个“法宝底座”**：
    你的浏览器需要一个名为 `Tampermonkey` (油猴) 的扩展。它就像一个神通广大的法宝底座，可以承载各式各样的脚本法宝。
    *   [Chrome / Edge / Chromium 内核浏览器 安装地址](https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo)
    *   [Firefox 浏览器 安装地址](https://addons.mozilla.org/firefox/addon/tampermonkey/)

2.  **请神入座，一键安装脚本**：
    点击下面的链接，油猴扩展会立即感应到这个“法宝”，并询问你是否安装。
    *   **[➡️ 点击此处，直接安装脚本 ⬅️](https://github.com/lzA6/web-js/raw/main/%E6%9C%BA%E5%9C%BA%E8%87%AA%E5%8A%A8%E6%B3%A8%E5%86%8C%E5%8A%A9%E6%89%8B%20(By%E5%90%AC%E9%A3%8E%E7%8B%AC-%E5%AE%B6%E6%8F%90%E4%BE%9B)-2025-08-28.18.user.js)**

3.  **大功告成！**
    现在随便打开一个注册页面，你应该能在右侧看到我们的助手悬浮窗了。如果没有，刷新一下页面试试。

---

### 📖 “庖丁解牛” - 详细使用指南

> **“知其然，亦要知其所以然。当你理解了工具的灵魂，你便能与它共舞。”**

当你安装成功后，会在页面右侧看到一个可爱的悬浮窗，这就是我们的控制核心。

<img width="516" alt="操作界面" src="https://github.com/user-attachments/assets/63fb6cef-25e1-485b-87c1-e4e98c045512" />

#### **主界面功能解析：**

*   **邮箱 & 密码框**：这里是你预设的战场弹药。你可以手动输入，也可以点击“随机生成”让脚本帮你创造一个。
*   **锁定/解锁**：点击“锁定”，你的邮箱和密码就会被固定下来，防止误操作。再次点击即可“解锁”修改。
*   **随机生成**：灵感枯竭？让它帮你生成一组随机的邮箱和密码，省时省力。
*   **开始运行**：一切就绪后的总攻击按钮！点击它，脚本就会开始分析页面并执行任务。
*   **自动填充**：开启后，脚本会自动寻找并填充它认识的输入框。
*   **自动注册/登录**：更高阶的自动化！开启后，脚本不仅会填充，还会尝试点击“注册”或“登录”按钮。
*   **显示详细过程**：开启后，运行任务时会弹出一个详细的日志窗口，让你看到脚本每一步的思考和行动，非常适合排查问题或满足好奇心。
*   **手动收信**：需要邮箱验证码？点击这里，脚本会帮你拉取最近的邮件列表，方便你快速找到验证码邮件。
*   **自定义**：对付那些“不走寻常路”的网站，这个功能是你的杀手锏。你可以手动告诉脚本，哪个框是邮箱，哪个按钮是注册。
*   **邮件设置**：实现“自动收取验证码”神技的配置入口，需要进行一次性的Google Apps Script设置（教程就在弹出的窗口里，包教包会！）。

---

### 🧠 “格物致知” - 技术原理大揭秘

> **“代码是新时代的诗歌，算法是宇宙的逻辑。让我们一起欣赏这首由逻辑谱写的诗。”**

这个脚本是如何做到如此智能的呢？其实它的背后是一套清晰的逻辑流程，我们用“大白话”为你解读：

1.  **UI & UX (用户界面与体验)**
    *   **专业术语**：脚本通过 `GM_addStyle` 注入CSS样式，并动态创建HTML元素，构建了一个非侵入式的悬浮窗 `(div#helper-container)`。它通过 `position: fixed` 固定在页面上，并实现了拖拽、最小化等交互。
    *   **大白话**：我们凭空在你的网页上“画”了一个小面板，让它能一直跟着你滚动，还能拖动和缩小，尽量不打扰你浏览。所有的按钮、输入框都是我们用代码一个个“捏”出来的。

2.  **核心引擎 (The Engine)**
    *   **专业术语**：`Engine` 对象是脚本的大脑。它内部定义了一系列关键词（如 `email`, `password`, `验证码`）。当开始运行时，它会遍历页面上所有的 `input` 元素，通过 `getAssociatedText` 方法获取每个输入框关联的文本（比如 `placeholder`、`name` 属性，或者它旁边的 `label` 标签文字），然后跟关键词库进行匹配，从而判断出哪个是邮箱框，哪个是密码框。
    *   **大白话**：脚本就像一个侦探，拿着一本“嫌疑人特征手册”（关键词库）。它会检查页面上所有的输入框，看看框上或框旁边的提示文字，比如看到“请输入邮箱”，它就知道“哦！这个框是用来填邮箱的！”

3.  **邮件助手 (MailHelper)**
    *   **专业术语**：`MailHelper` 模块通过 `GM_xmlhttpRequest` 与用户自己部署的 Google Apps Script Web 应用进行跨域通信。Apps Script 是一个在 Google 服务器上运行的脚本，我们提供了一段标准代码，它可以安全地访问用户的Gmail，并根据请求（如 `fetchEmails`）返回邮件列表或内容。脚本通过解析邮件正文的正则表达式 `(RegExp)` 来提取验证码。
    *   **大白话**：你的脚本本身不能直接去看你的Gmail（为了安全）。所以我们让你在Google那里建一个官方认证的“传话筒”（Apps Script）。脚本通过一个秘密网址联系这个“传话筒”，说“嘿，帮我看看有没有新邮件”，传话筒收到后，安全地看一眼你的邮箱，然后把新邮件信息告诉脚本。这个过程你的账号密码全程保密，非常安全。

4.  **任务逻辑与执行 (Task Logic)**
    *   **专业术语**：整个自动化流程是一个异步 `(async/await)` 任务。它会先调用 `intelligentWaitEngine` 来检测并等待 Cloudflare 之类的加载遮罩消失。然后根据用户是否开启“自动注册”，决定是只填充表单，还是进一步寻找并点击注册/登录按钮。点击后，`monitorForPostClickFeedback` 会通过 `MutationObserver` 监视页面的变化，判断操作是成功了还是失败了（比如页面跳转或弹出错误提示）。
    *   **大白话**：整个过程就像一个机器人执行任务。
        *   第一步：机器人先看看门口有没有保安（Cloudflare），有就等等。
        *   第二步：保安走了，机器人进屋（页面），按照指示把东西（账号密码）放到指定的盒子里（输入框）。
        *   第三步：如果接到命令，它会按下“完成”按钮。
        *   第四步：按下按钮后，机器人会竖起耳朵听动静，是听到了“欢迎光临”（成功）还是“密码错误”（失败），从而判断任务结果。

---

### 🤔 “利弊得失” - 优点与局限性

> **“没有完美的技术，只有最适合的场景。拥抱优点，正视缺点，方为智者。”**

#### **我们引以为傲的优点 (Pros) 👍**

*   **极致便捷**：将多步操作简化为一键，极大地提升了注册效率，是“数字游民”的福音。
*   **高度智能**：能适配绝大多数标准化设计的网站，无需为每个网站单独配置。
*   **安全可靠**：邮箱验证码的获取方式遵循Google官方的安全机制，不触及、不保存你的账号密码。
*   **开源透明**：所有代码公开可见，你可以清楚地知道它做的每一件事，没有任何“黑箱操作”。
*   **强大的自定义**：赋予你“上帝之手”，即使遇到再奇葩的网站布局，也能让它乖乖听话。

#### **我们需要坦诚的局限 (Cons) 👎**

*   **图形验证码无力**：对于需要“找不同”、“拼图”、“点击图中所有公交车”这类复杂的图形验证码，它目前束手无策。这需要更高级的AI视觉技术，是我们未来的一个巨大挑战。
*   **依赖网站规范**：如果一个网站的输入框没有任何可识别的标签或提示，脚本可能会“失明”，无法正确识别。
*   **初始设置略繁琐**：要使用最强大的“邮件验证”功能，需要用户手动配置一次Google Apps Script，虽然我们提供了保姆级教程，但对纯小白用户仍有一定门槛。

---

### 🔭 “星辰大海” - 未来展望与扩展方向

> **“一个项目的伟大，不在于它现在是什么，而在于它梦想成为什么。”**

这个脚本的旅程才刚刚开始，它的未来充满了无限可能。如果你也是一位开发者，对这个项目充满热情，欢迎你加入我们，一起探索这些方向：

1.  **多邮箱供应商支持**：
    *   **思路**：除了Gmail，可以研究Outlook, ProtonMail等其他主流邮箱的API或类似Apps Script的自动化方案，让用户有更多选择。

2.  **AI赋能的验证码识别**：
    *   **思路**：集成第三方的OCR（光学字符识别）或AI验证码识别服务API。当脚本检测到简单的字符验证码图片时，可以调用API进行识别并自动填充。这是一个巨大的飞跃！

3.  **更智能的元素选择器**：
    *   **思路**：目前的元素选择器生成逻辑还比较基础。可以开发一个更强大的算法，比如基于元素在DOM树中的相对位置、CSS样式、甚至是视觉布局来生成更稳定、更唯一的选择器（类似XPath的某些策略）。

4.  **规则云同步/分享社区**：
    *   **思路**：为“自定义”功能增加一个“导出/导入到云端”的选项。用户可以为某个网站创建完美的适配规则后，一键分享到社区，其他用户可以直接订阅使用，众人拾柴火焰高！

5.  **可视化操作流程 (Web UI)**：
    *   **思路**：利用更现代的前端技术（如Vue, React, Svelte）构建一个更美观、更强大的Web UI界面，甚至可以做到“拖拽式”的流程编排，让完全不懂代码的用户也能定制复杂的自动化任务。

---

### 📜 开源协议 (License)

本项目采用 **Apache License 2.0** 开源协议。

简单来说，这意味着：

*   **你可以**：自由地使用、修改、分发本软件的源代码或二进制形式。
*   **你需要**：在你的衍生产品中包含原始的版权、专利、商标和归属声明。如果你修改了文件，需要在文件中做出说明。
*   **你无需**：将你的衍生作品以同样的协议开源。

这是一种非常商业友好的协议，给予了你最大的自由。

> Copyright [2025] [lzA6]
>
> Licensed under the Apache License, Version 2.0 (the "License");
> you may not use this file except in compliance with the License.
> You may obtain a copy of the License at
>
>     http://www.apache.org/licenses/LICENSE-2.0
>
> Unless required by applicable law or agreed to in writing, software
> distributed under the License is distributed on an "AS IS" BASIS,
> WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
> See the License for the specific language governing permissions and
> limitations under the License.

---

**最后，感谢你的使用。愿这个小小的工具，能为你节省片刻时光，让你在数字世界中的旅途，更加轻松、愉悦。如果你有任何想法或建议，欢迎在 [Issues](https://github.com/lzA6/web-js/issues) 中提出，让我们一起让它变得更好！**

**“来吧，朋友，世界因我们的创造而美丽。你，也可以！”**
